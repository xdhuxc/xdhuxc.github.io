<!DOCTYPE html>
<html lang="zh-cn">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Python 发送邮件 - xdhuxc</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<meta name="author" content="xdhuxc" /><meta name="description" content="本篇博客介绍下在 Python 邮件的发送。
" /><meta name="keywords" content="Hugo, theme, even" />






<meta name="generator" content="Hugo 0.62.2 with theme even" />


<link rel="canonical" href="https://xdhuxc.github.io/post/programming/python/python-email/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">

<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<link href="/dist/even.c2a46f00.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css" integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin="anonymous">


<meta property="og:title" content="Python 发送邮件" />
<meta property="og:description" content="本篇博客介绍下在 Python 邮件的发送。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://xdhuxc.github.io/post/programming/python/python-email/" />
<meta property="article:published_time" content="2017-09-18T00:00:00+00:00" />
<meta property="article:modified_time" content="2017-09-18T00:00:00+00:00" />
<meta itemprop="name" content="Python 发送邮件">
<meta itemprop="description" content="本篇博客介绍下在 Python 邮件的发送。">
<meta itemprop="datePublished" content="2017-09-18T00:00:00&#43;00:00" />
<meta itemprop="dateModified" content="2017-09-18T00:00:00&#43;00:00" />
<meta itemprop="wordCount" content="4828">



<meta itemprop="keywords" content="Python," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Python 发送邮件"/>
<meta name="twitter:description" content="本篇博客介绍下在 Python 邮件的发送。"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">Xdhuxc</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">主页</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">博客</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">标签</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">目录</li>
      </a><a href="/about/">
        <li class="mobile-menu-item">关于</li>
      </a>
  </ul>
</nav>
  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">Xdhuxc</a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">主页</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">博客</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">标签</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">目录</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/about/">关于</a>
      </li>
  </ul>
</nav>
    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">Python 发送邮件</h1>

      <div class="post-meta">
        <span class="post-time"> 2017-09-18 </span>
        <div class="post-category">
            <a href="/categories/%E6%8A%80%E6%9C%AF/"> 技术 </a>
            </div>
          <span class="more-meta"> 约 4828 字 </span>
          <span class="more-meta"> 预计阅读 10 分钟 </span>
        <span id="busuanzi_container_page_pv" class="more-meta"> <span id="busuanzi_value_page_pv"><img src="/img/spinner.svg" alt="spinner.svg"/></span> 次阅读 </span>
      </div>
    </header>

    <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">文章目录</h2>
  <div class="post-toc-content always-active">
    <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#发送邮件">发送邮件</a></li>
        <li><a href="#线程">线程</a></li>
        <li><a href="#json">JSON</a></li>
        <li><a href="#jsonloads">json.loads</a></li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</div>
    <div class="post-content">
      <p>本篇博客介绍下在 Python 邮件的发送。</p>
<h3 id="发送邮件">发送邮件</h3>
<p>python的smtplib提供了一种很方便的途径发送电子邮件。它对smtp协议进行了简单的封装。</p>
<p>Python创建SMTP 对象语法如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-markdown" data-lang="markdown">import smtplib

smtpObj = smtplib.SMTP( [host [, port [, local_hostname]]] )
</code></pre></td></tr></table>
</div>
</div><p>参数说明：</p>
<ul>
<li>host: SMTP 服务器主机。 你可以指定主机的ip地址或者域名如: xdhuxc.com，这个是可选参数。</li>
<li>port: 如果你提供了 host 参数, 你需要指定 SMTP 服务使用的端口号，一般情况下 SMTP 端口号为25。</li>
<li>local_hostname: 如果 SMTP 在你的本机上，你只需要指定服务器地址为 localhost 即可。</li>
</ul>
<p>Python SMTP 对象使用 sendmail 方法发送邮件，语法如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-markdown" data-lang="markdown">SMTP.sendmail(from_addr, to_addrs, msg[, mail_options, rcpt_options]
</code></pre></td></tr></table>
</div>
</div><p>参数说明：</p>
<ul>
<li>from_addr: 邮件发送者地址。</li>
<li>to_addrs: 字符串列表，邮件发送地址。</li>
<li>msg: 发送消息，msg 是字符串，表示邮件。我们知道邮件一般由标题，发信人，收件人，邮件内容，附件等构成，发送邮件的时候，要注意 msg 的格式。这个格式就是 smtp 协议中定义的格式</li>
</ul>
<h4 id="使用本地邮件服务器">使用本地邮件服务器</h4>
<p>执行示例需要本机已安装了支持 SMTP 的服务，如：sendmail。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-markdown" data-lang="markdown"><span class="gh">#!/usr/bin/python
</span><span class="gh"></span><span class="gh"># -*- coding: UTF-8 -*-
</span><span class="gh"></span> 
import smtplib
from email.mime.text import MIMEText
from email.header import Header
 
sender = &#39;xdhuxc@163.com&#39;
receivers = [&#39;xdhuxc@126.com&#39;]  # 接收邮件，可设置为你的QQ邮箱或者其他邮箱
 
<span class="gh"># 三个参数：第一个为文本内容，第二个 plain 设置文本格式，第三个 utf-8 设置编码
</span><span class="gh"></span>message = MIMEText(&#39;Python 邮件发送测试...&#39;, &#39;plain&#39;, &#39;utf-8&#39;)
message[&#39;From&#39;] = Header(&#34;菜鸟教程&#34;, &#39;utf-8&#39;)
message[&#39;To&#39;] =  Header(&#34;测试&#34;, &#39;utf-8&#39;)
 
subject = &#39;Python SMTP 邮件测试&#39;
message[&#39;Subject&#39;] = Header(subject, &#39;utf-8&#39;)
 
 
try:
    smtpObj = smtplib.SMTP(&#39;localhost&#39;)
    smtpObj.sendmail(sender, receivers, message.as_string())
    print &#34;邮件发送成功&#34;
except smtplib.SMTPException:
    print &#34;Error: 无法发送邮件&#34;
</code></pre></td></tr></table>
</div>
</div><p>使用三个引号来设置邮件信息，标准邮件需要三个头部信息： From, To, 和 Subject ，每个信息直接使用空行分割。</p>
<p>通过实例化 smtplib 模块的 SMTP 对象 smtpObj 来连接到 SMTP 访问，并使用 sendmail 方法来发送信息。</p>
<p>执行以上程序，如果你本机安装 sendmail（邮件传输代理程序），就会输出：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-markdown" data-lang="markdown">$ python test.py
邮件发送成功
</code></pre></td></tr></table>
</div>
</div><h4 id="使用其他邮件服务商的-smtp-访问qq网易google等">使用其他邮件服务商的 SMTP 访问（QQ、网易、Google等）。</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-markdown" data-lang="markdown"><span class="gh">#!/usr/bin/python
</span><span class="gh"></span><span class="gh"># -*- coding: UTF-8 -*-
</span><span class="gh"></span> 
import smtplib
from email.mime.text import MIMEText
from email.header import Header
 
<span class="gh"># 第三方 SMTP 服务
</span><span class="gh"></span>mail_host=&#34;smtp.163.com&#34;  <span class="ni">#设置服务器</span>
mail_user=&#34;XXXX&#34;    <span class="ni">#用户名</span>
mail_pass=&#34;XXXXXX&#34;   <span class="ni">#口令</span> 
 
 
sender = &#39;xdhuxc@163.com&#39;
receivers = [&#39;xdhuxc@126.com&#39;]  # 接收邮件，可设置为你的QQ邮箱或者其他邮箱
 
message = MIMEText(&#39;Python 邮件发送测试...&#39;, &#39;plain&#39;, &#39;utf-8&#39;)
message[&#39;From&#39;] = Header(&#34;xdhuxc 测试&#34;, &#39;utf-8&#39;)
message[&#39;To&#39;] =  Header(&#34;测试&#34;, &#39;utf-8&#39;)
 
subject = &#39;Python SMTP 邮件测试&#39;
message[&#39;Subject&#39;] = Header(subject, &#39;utf-8&#39;)
 
 
try:
    smtpObj = smtplib.SMTP() 
    smtpObj.connect(mail_host, 25)    # 25 为 SMTP 端口号
    smtpObj.login(mail_user,mail_pass)  
    smtpObj.sendmail(sender, receivers, message.as_string())
    print &#34;邮件发送成功&#34;
except smtplib.SMTPException:
    print &#34;Error: 无法发送邮件&#34;
</code></pre></td></tr></table>
</div>
</div><h4 id="发送html格式的邮件">发送HTML格式的邮件</h4>
<p>Python发送HTML格式的邮件与发送纯文本消息的邮件不同之处就是将MIMEText中_subtype设置为html。具体代码如下:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-markdown" data-lang="markdown"><span class="gh">#!/usr/bin/python
</span><span class="gh"></span><span class="gh"># -*- coding: UTF-8 -*-
</span><span class="gh"></span> 
import smtplib
from email.mime.text import MIMEText
from email.header import Header
 
sender = &#39;xdhuxc@163.com&#39;
receivers = [&#39;xdhuxc@126.com&#39;]  # 接收邮件，可设置为你的QQ邮箱或者其他邮箱
 
mail_msg = &#34;&#34;&#34;
&lt;p&gt;Python 邮件发送测试...&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://www.xdhuxc.org&#34;&gt;这是一个链接&lt;/a&gt;&lt;/p&gt;
&#34;&#34;&#34;
message = MIMEText(mail_msg, &#39;html&#39;, &#39;utf-8&#39;)
message[&#39;From&#39;] = Header(&#34;xdhuxc 测试&#34;, &#39;utf-8&#39;)
message[&#39;To&#39;] =  Header(&#34;测试&#34;, &#39;utf-8&#39;)
 
subject = &#39;Python SMTP 邮件测试&#39;
message[&#39;Subject&#39;] = Header(subject, &#39;utf-8&#39;)
 
 
try:
    smtpObj = smtplib.SMTP(&#39;localhost&#39;)
    smtpObj.sendmail(sender, receivers, message.as_string())
    print &#34;邮件发送成功&#34;
except smtplib.SMTPException:
    print &#34;Error: 无法发送邮件&#34;
</code></pre></td></tr></table>
</div>
</div><h4 id="发送带附件的邮件">发送带附件的邮件</h4>
<p>发送带附件的邮件，首先要创建MIMEMultipart()实例，然后构造附件，如果有多个附件，可依次构造，最后利用smtplib.smtp发送。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-markdown" data-lang="markdown"><span class="gh">#!/usr/bin/python
</span><span class="gh"></span><span class="gh"># -*- coding: UTF-8 -*-
</span><span class="gh"></span> 
import smtplib
from email.mime.text import MIMEText
from email.mime.multipart import MIMEMultipart
from email.header import Header
 
sender = &#39;xdhuxc@163.com&#39;
receivers = [&#39;xdhuxc@126.com&#39;]  # 接收邮件，可设置为你的QQ邮箱或者其他邮箱
 
<span class="gh">#创建一个带附件的实例
</span><span class="gh"></span>message = MIMEMultipart()
message[&#39;From&#39;] = Header(&#34;xdhuxc 测试&#34;, &#39;utf-8&#39;)
message[&#39;To&#39;] =  Header(&#34;测试&#34;, &#39;utf-8&#39;)
subject = &#39;Python SMTP 邮件测试&#39;
message[&#39;Subject&#39;] = Header(subject, &#39;utf-8&#39;)
 
<span class="gh">#邮件正文内容
</span><span class="gh"></span>message.attach(MIMEText(&#39;这是 xdhuxc 测试Python 邮件发送测试……&#39;, &#39;plain&#39;, &#39;utf-8&#39;))
 
<span class="gh"># 构造附件1，传送当前目录下的 test.txt 文件
</span><span class="gh"></span>att1 = MIMEText(open(&#39;test.txt&#39;, &#39;rb&#39;).read(), &#39;base64&#39;, &#39;utf-8&#39;)
att1[&#34;Content-Type&#34;] = &#39;application/octet-stream&#39;
<span class="gh"># 这里的filename可以任意写，写什么名字，邮件中显示什么名字
</span><span class="gh"></span>att1[&#34;Content-Disposition&#34;] = &#39;attachment; filename=&#34;test.txt&#34;&#39;
message.attach(att1)
 
<span class="gh"># 构造附件2，传送当前目录下的 xdhuxc.txt 文件
</span><span class="gh"></span>att2 = MIMEText(open(&#39;xdhuxc.txt&#39;, &#39;rb&#39;).read(), &#39;base64&#39;, &#39;utf-8&#39;)
att2[&#34;Content-Type&#34;] = &#39;application/octet-stream&#39;
att2[&#34;Content-Disposition&#34;] = &#39;attachment; filename=&#34;xdhuxc.txt&#34;&#39;
message.attach(att2)
 
try:
    smtpObj = smtplib.SMTP(&#39;localhost&#39;)
    smtpObj.sendmail(sender, receivers, message.as_string())
    print &#34;邮件发送成功&#34;
except smtplib.SMTPException:
    print &#34;Error: 无法发送邮件&#34;
</code></pre></td></tr></table>
</div>
</div><h4 id="在-html-文本中添加图片">在 HTML 文本中添加图片</h4>
<p>邮件的 HTML 文本中一般邮件服务商添加外链是无效的，正确添加突破的实例如下所示：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-markdown" data-lang="markdown"><span class="gh">#!/usr/bin/python
</span><span class="gh"></span><span class="gh"># -*- coding: UTF-8 -*-
</span><span class="gh"></span> 
import smtplib
from email.mime.image import MIMEImage
from email.mime.multipart import MIMEMultipart
from email.mime.text import MIMEText
from email.header import Header
 
sender = &#39;xdhuxc@163.com&#39;
receivers = [&#39;xdhuxc@126.com&#39;]  # 接收邮件，可设置为你的QQ邮箱或者其他邮箱
 
msgRoot = MIMEMultipart(&#39;related&#39;)
msgRoot[&#39;From&#39;] = Header(&#34;xdhuxc 测试&#34;, &#39;utf-8&#39;)
msgRoot[&#39;To&#39;] =  Header(&#34;测试&#34;, &#39;utf-8&#39;)
subject = &#39;Python SMTP 邮件测试&#39;
msgRoot[&#39;Subject&#39;] = Header(subject, &#39;utf-8&#39;)
 
msgAlternative = MIMEMultipart(&#39;alternative&#39;)
msgRoot.attach(msgAlternative)
 
 
mail_msg = &#34;&#34;&#34;
&lt;p&gt;Python 邮件发送测试...&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://www.xdhuxc.com&#34;&gt;xdhuxc 测试链接&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;图片演示：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;cid:image1&#34;&gt;&lt;/p&gt;
&#34;&#34;&#34;
msgAlternative.attach(MIMEText(mail_msg, &#39;html&#39;, &#39;utf-8&#39;))
 
<span class="gh"># 指定图片为当前目录
</span><span class="gh"></span>fp = open(&#39;test.png&#39;, &#39;rb&#39;)
msgImage = MIMEImage(fp.read())
fp.close()
 
<span class="gh"># 定义图片 ID，在 HTML 文本中引用
</span><span class="gh"></span>msgImage.add_header(&#39;Content-ID&#39;, &#39;&lt;image1&gt;&#39;)
msgRoot.attach(msgImage)
 
try:
    smtpObj = smtplib.SMTP(&#39;localhost&#39;)
    smtpObj.sendmail(sender, receivers, msgRoot.as_string())
    print &#34;邮件发送成功&#34;
except smtplib.SMTPException:
    print &#34;Error: 无法发送邮件&#34;
</code></pre></td></tr></table>
</div>
</div><h4 id="使用第三方-smtp-服务发送">使用第三方 SMTP 服务发送</h4>
<p>使用第三方 SMTP 服务发送邮件，SMTP服务器地址为：smtp.xxx.com，端口为：25</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-markdown" data-lang="markdown"><span class="gh">#!/usr/bin/python
</span><span class="gh"></span><span class="gh"># -*- coding: UTF-8 -*-
</span><span class="gh"></span> 
import smtplib
from email.mime.text import MIMEText
from email.utils import formataddr
 
my_sender=&#39;xdhuxc@126.com&#39;    # 发件人邮箱账号
my_pass = &#39;xxxxxxxxxx&#39;              # 发件人邮箱密码
my_user=&#39;xdhuxc@126.com&#39;      # 收件人邮箱账号，我这边发送给自己
def mail():
    ret=True
    try:
        msg=MIMEText(&#39;填写邮件内容&#39;,&#39;plain&#39;,&#39;utf-8&#39;)
        msg[&#39;From&#39;]=formataddr([&#34;Fromxdhuxc&#34;,my_sender])  # 括号里的对应发件人邮箱昵称、发件人邮箱账号
        msg[&#39;To&#39;]=formataddr([&#34;FK&#34;,my_user])              # 括号里的对应收件人邮箱昵称、收件人邮箱账号
        msg[&#39;Subject&#39;]=&#34;xdhuxc 测试发送邮件测试&#34;                # 邮件的主题，也可以说是标题
 
        server=smtplib.SMTP_SSL(&#34;smtp.qq.com&#34;, 465)  # 发件人邮箱中的SMTP服务器，端口是25
        server.login(my_sender, my_pass)  # 括号中对应的是发件人邮箱账号、邮箱密码
        server.sendmail(my_sender,[my_user,],msg.as_string())  # 括号中对应的是发件人邮箱账号、收件人邮箱账号、发送邮件
        server.quit()  # 关闭连接
    except Exception:  # 如果 try 中的语句没有执行，则会执行下面的 ret=False
        ret=False
    return ret
 
ret=mail()
if ret:
    print(&#34;邮件发送成功&#34;)
else:
    print(&#34;邮件发送失败&#34;)
</code></pre></td></tr></table>
</div>
</div><h3 id="线程">线程</h3>
<p>Python中使用线程有两种方式：函数或者用类来包装线程对象。</p>
<h4 id="函数式">函数式</h4>
<blockquote>
<p>调用thread模块中的start_new_thread()函数来产生新线程。</p>
</blockquote>
<p>语法如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-markdown" data-lang="markdown">thread.start_new_thread ( function, args[, kwargs] )
</code></pre></td></tr></table>
</div>
</div><p>参数说明：</p>
<ul>
<li>function - 线程函数。</li>
<li>args - 传递给线程函数的参数,他必须是个tuple类型。</li>
<li>kwargs - 可选参数。</li>
</ul>
<p>示例：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-markdown" data-lang="markdown"><span class="gh">#!/usr/bin/python
</span><span class="gh"></span><span class="gh"># -*- coding: UTF-8 -*-
</span><span class="gh"></span> 
import thread
import time
 
<span class="gh"># 为线程定义一个函数
</span><span class="gh"></span>def print_time( threadName, delay):
   count = 0
   while count &lt; 5:
      time.sleep(delay)
      count += 1
      print &#34;%s: %s&#34; % ( threadName, time.ctime(time.time()) )
 
<span class="gh"># 创建两个线程
</span><span class="gh"></span>try:
   thread.start_new_thread( print_time, (&#34;Thread-1&#34;, 2, ) )
   thread.start_new_thread( print_time, (&#34;Thread-2&#34;, 4, ) )
except:
   print &#34;Error: unable to start thread&#34;
 
while 1:
   pass
</code></pre></td></tr></table>
</div>
</div><p>线程的结束一般依靠线程函数的自然结束；也可以在线程函数中调用thread.exit()，他抛出SystemExit exception，达到退出线程的目的。</p>
<h4 id="线程模块">线程模块</h4>
<p>Python通过两个标准库thread和threading提供对线程的支持。thread提供了低级别的、原始的线程以及一个简单的锁。</p>
<p>thread 模块提供的其他方法：</p>
<ul>
<li>threading.currentThread(): 返回当前的线程变量。</li>
<li>threading.enumerate(): 返回一个包含正在运行的线程的list。正在运行指线程启动后、结束前，不包括启动前和终止后的线程。</li>
<li>threading.activeCount(): 返回正在运行的线程数量，与len(threading.enumerate())有相同的结果。</li>
</ul>
<p>除了使用方法外，线程模块同样提供了Thread类来处理线程，Thread类提供了以下方法:</p>
<ul>
<li>run(): 用以表示线程活动的方法。</li>
<li>start():启动线程活动。</li>
<li>join([time]): 等待至线程中止。这阻塞调用线程直至线程的join() 方法被调用中止-正常退出或者抛出未处理的异常-或者是可选的超时发生。</li>
<li>isAlive(): 返回线程是否活动的。</li>
<li>getName(): 返回线程名。</li>
<li>setName(): 设置线程名。</li>
</ul>
<h4 id="使用threading模块创建线程">使用Threading模块创建线程</h4>
<p>使用Threading模块创建线程，直接从threading.Thread继承，然后重写__init__方法和run方法</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-markdown" data-lang="markdown"><span class="gh">#!/usr/bin/python
</span><span class="gh"></span><span class="gh"># -*- coding: UTF-8 -*-
</span><span class="gh"></span> 
import threading
import time
 
exitFlag = 0
 
class myThread (threading.Thread):   <span class="ni">#继承父类threading</span>.Thread
    def <span class="gs">__init</span><span class="gs">__</span>(self, threadID, name, counter):
        threading.Thread.__init__(self)
        self.threadID = threadID
        self.name = name
        self.counter = counter
    def run(self):                   <span class="ni">#把要执行的代码写到run函数里面</span> 线程在创建后会直接运行run函数 
        print &#34;Starting &#34; + self.name
        print_time(self.name, self.counter, 5)
        print &#34;Exiting &#34; + self.name
 
def print_time(threadName, delay, counter):
    while counter:
        if exitFlag:
            threading.Thread.exit()
        time.sleep(delay)
        print &#34;%s: %s&#34; % (threadName, time.ctime(time.time()))
        counter -= 1
 
<span class="gh"># 创建新线程
</span><span class="gh"></span>thread1 = myThread(1, &#34;Thread-1&#34;, 1)
thread2 = myThread(2, &#34;Thread-2&#34;, 2)
 
<span class="gh"># 开启线程
</span><span class="gh"></span>thread1.start()
thread2.start()
 
print &#34;Exiting Main Thread&#34;
</code></pre></td></tr></table>
</div>
</div><h4 id="线程同步">线程同步</h4>
<p>如果多个线程共同对某个数据修改，则可能出现不可预料的结果，为了保证数据的正确性，需要对多个线程进行同步。</p>
<p>使用Thread对象的Lock和Rlock可以实现简单的线程同步，这两个对象都有acquire方法和release方法，对于那些需要每次只允许一个线程操作的数据，可以将其操作放到acquire和release方法之间。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-markdown" data-lang="markdown"><span class="gh">#!/usr/bin/python
</span><span class="gh"></span><span class="gh"># -*- coding: UTF-8 -*-
</span><span class="gh"></span> 
import threading
import time
 
class myThread (threading.Thread):
    def <span class="gs">__init</span><span class="gs">__</span>(self, threadID, name, counter):
        threading.Thread.__init__(self)
        self.threadID = threadID
        self.name = name
        self.counter = counter
    def run(self):
        print &#34;Starting &#34; + self.name
       # 获得锁，成功获得锁定后返回True
       # 可选的timeout参数不填时将一直阻塞直到获得锁定
       # 否则超时后将返回False
        threadLock.acquire()
        print_time(self.name, self.counter, 3)
        # 释放锁
        threadLock.release()
 
def print_time(threadName, delay, counter):
    while counter:
        time.sleep(delay)
        print &#34;%s: %s&#34; % (threadName, time.ctime(time.time()))
        counter -= 1
 
threadLock = threading.Lock()
threads = []
 
<span class="gh"># 创建新线程
</span><span class="gh"></span>thread1 = myThread(1, &#34;Thread-1&#34;, 1)
thread2 = myThread(2, &#34;Thread-2&#34;, 2)
 
<span class="gh"># 开启新线程
</span><span class="gh"></span>thread1.start()
thread2.start()
 
<span class="gh"># 添加线程到线程列表
</span><span class="gh"></span>threads.append(thread1)
threads.append(thread2)
 
<span class="gh"># 等待所有线程完成
</span><span class="gh"></span>for t in threads:
    t.join()
print &#34;Exiting Main Thread&#34;
</code></pre></td></tr></table>
</div>
</div><h4 id="线程优先级队列-queue">线程优先级队列（ Queue）</h4>
<p>Python的Queue模块中提供了同步的、线程安全的队列类，包括FIFO（先入先出)队列Queue，LIFO（后入先出）队列LifoQueue，和优先级队列PriorityQueue。这些队列都实现了锁原语，能够在多线程中直接使用。可以使用队列来实现线程间的同步。</p>
<p>Queue模块中的常用方法:</p>
<ul>
<li>Queue.qsize() 返回队列的大小</li>
<li>Queue.empty() 如果队列为空，返回True,反之False</li>
<li>Queue.full() 如果队列满了，返回True,反之False</li>
<li>Queue.full 与 maxsize 大小对应</li>
<li>Queue.get([block[, timeout]])获取队列，timeout等待时间</li>
<li>Queue.get_nowait() 相当Queue.get(False)</li>
<li>Queue.put(item) 写入队列，timeout等待时间</li>
<li>Queue.put_nowait(item) 相当Queue.put(item, False)</li>
<li>Queue.task_done() 在完成一项工作之后，Queue.task_done()函数向任务已经完成的队列发送一个信号</li>
<li>Queue.join() 实际上意味着等到队列为空，再执行别的操作</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-markdown" data-lang="markdown"><span class="gh">#!/usr/bin/python
</span><span class="gh"></span><span class="gh"># -*- coding: UTF-8 -*-
</span><span class="gh"></span> 
import Queue
import threading
import time
 
exitFlag = 0
 
class myThread (threading.Thread):
    def <span class="gs">__init</span><span class="gs">__</span>(self, threadID, name, q):
        threading.Thread.__init__(self)
        self.threadID = threadID
        self.name = name
        self.q = q
    def run(self):
        print &#34;Starting &#34; + self.name
        process_data(self.name, self.q)
        print &#34;Exiting &#34; + self.name
 
def process_data(threadName, q):
    while not exitFlag:
        queueLock.acquire()
        if not workQueue.empty():
            data = q.get()
            queueLock.release()
            print &#34;%s processing %s&#34; % (threadName, data)
        else:
            queueLock.release()
        time.sleep(1)
 
threadList = [&#34;Thread-1&#34;, &#34;Thread-2&#34;, &#34;Thread-3&#34;]
nameList = [&#34;One&#34;, &#34;Two&#34;, &#34;Three&#34;, &#34;Four&#34;, &#34;Five&#34;]
queueLock = threading.Lock()
workQueue = Queue.Queue(10)
threads = []
threadID = 1
 
<span class="gh"># 创建新线程
</span><span class="gh"></span>for tName in threadList:
    thread = myThread(threadID, tName, workQueue)
    thread.start()
    threads.append(thread)
    threadID += 1
 
<span class="gh"># 填充队列
</span><span class="gh"></span>queueLock.acquire()
for word in nameList:
    workQueue.put(word)
queueLock.release()
 
<span class="gh"># 等待队列清空
</span><span class="gh"></span>while not workQueue.empty():
    pass
 
<span class="gh"># 通知线程是时候退出
</span><span class="gh"></span>exitFlag = 1
 
<span class="gh"># 等待所有线程完成
</span><span class="gh"></span>for t in threads:
    t.join()
print &#34;Exiting Main Thread&#34;
</code></pre></td></tr></table>
</div>
</div><h3 id="json">JSON</h3>
<blockquote>
<p>JSON(JavaScript Object Notation) 是一种轻量级的数据交换格式，易于人阅读和编写。</p>
</blockquote>
<h4 id="json-函数">JSON 函数</h4>
<p>使用 JSON 函数需要导入 json 库：import json。</p>
<table>
<thead>
<tr>
<th>函数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>json.dumps</td>
<td>将 Python 对象转换成 JSON 字符串</td>
</tr>
<tr>
<td>json.loads</td>
<td>将已编码的 JSON 字符串转换为 Python 对象</td>
</tr>
</tbody>
</table>
<h4 id="jsondumps">json.dumps</h4>
<p>json.dumps 用于将 Python 对象转换成 JSON 字符串。</p>
<p>语法为：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-markdown" data-lang="markdown">json.dumps(obj, skipkeys=False, ensure_ascii=True, check_circular=True, allow_nan=True, cls=None, indent=None, separators=None, encoding=&#34;utf-8&#34;, default=None, sort_keys=False, **kw)
</code></pre></td></tr></table>
</div>
</div><h5 id="示例">示例</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">#!/usr/bin/python
import json

data = [ { &#39;a&#39; : 1, &#39;b&#39; : 2, &#39;c&#39; : 3, &#39;d&#39; : 4, &#39;e&#39; : 5 } ]

json = json.dumps(data)
print json
</code></pre></td></tr></table>
</div>
</div><p>执行结果为：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">[{&#34;a&#34;: 1, &#34;c&#34;: 3, &#34;b&#34;: 2, &#34;e&#34;: 5, &#34;d&#34;: 4}]
</code></pre></td></tr></table>
</div>
</div><p>使用参数让 JSON 数据格式化输出：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">&gt;&gt;&gt; import json
&gt;&gt;&gt; print json.dumps({&#39;a&#39;: &#39;xdhuxc&#39;, &#39;b&#39;: 7}, sort_keys=True, indent=4, separators=(&#39;,&#39;, &#39;: &#39;))
{
    &#34;a&#34;: &#34;xdhuxc&#34;,
    &#34;b&#34;: 7
}
</code></pre></td></tr></table>
</div>
</div><p>python 原始类型向 json 类型的转化对照表：
Python | JSON
&mdash;|&mdash;|&mdash;
dict |	object
list, tuple	| array
str, unicode   | string
int, long, float	| number
True	| true
False	| false
None	| null</p>
<h3 id="jsonloads">json.loads</h3>
<p>json.loads 用于解码 JSON 数据。该函数返回 Python 字段的数据类型。</p>
<p>语法为：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">json.loads(s[, encoding[, cls[, object_hook[, parse_float[, parse_int[, parse_constant[, object_pairs_hook[, **kw]]]]]]]])
</code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-markdown" data-lang="markdown"><span class="gh">#!/usr/bin/python
</span><span class="gh"></span>import json

jsonData = &#39;{&#34;a&#34;:1,&#34;b&#34;:2,&#34;c&#34;:3,&#34;d&#34;:4,&#34;e&#34;:5}&#39;;

text = json.loads(jsonData)
print text
</code></pre></td></tr></table>
</div>
</div><p>以上代码执行结果为：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-markdown" data-lang="markdown">{u&#39;a&#39;: 1, u&#39;c&#39;: 3, u&#39;b&#39;: 2, u&#39;e&#39;: 5, u&#39;d&#39;: 4}
</code></pre></td></tr></table>
</div>
</div><p>json 类型转换到 python 的类型对照表：</p>
<table>
<thead>
<tr>
<th>JSON</th>
<th>Python</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>object</td>
<td>dict</td>
<td></td>
</tr>
<tr>
<td>array</td>
<td>list</td>
<td></td>
</tr>
<tr>
<td>string</td>
<td>unicode</td>
<td></td>
</tr>
<tr>
<td>number (int)</td>
<td>int, long</td>
<td></td>
</tr>
<tr>
<td>number (real)</td>
<td>float</td>
<td></td>
</tr>
<tr>
<td>true</td>
<td>True</td>
<td></td>
</tr>
<tr>
<td>false</td>
<td>False</td>
<td></td>
</tr>
<tr>
<td>null</td>
<td>None</td>
<td></td>
</tr>
</tbody>
</table>
    </div>

    <div class="post-copyright">
  <p class="copyright-item">
    <span class="item-title">文章作者</span>
    <span class="item-content">xdhuxc</span>
  </p>
  <p class="copyright-item">
    <span class="item-title">上次更新</span>
    <span class="item-content">
        2017-09-18
        
    </span>
  </p>
  
  
</div>
<footer class="post-footer">
      <div class="post-tags">
          <a href="/tags/python/">Python</a>
          </div>
      <nav class="post-nav">
        <a class="prev" href="/post/programming/python/python-file-and-directory/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">Python 中的文件和输入输出流</span>
            <span class="prev-text nav-mobile">上一篇</span>
          </a>
        <a class="next" href="/post/programming/python/python-condition/">
            <span class="next-text nav-default">Python 中的条件语句</span>
            <span class="next-text nav-mobile">下一篇</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        

  

  

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
      <a href="mailto:xdhuxc@163.com" class="iconfont icon-email" title="email"></a>
      <a href="https://github.com/xdhuxc" class="iconfont icon-github" title="github"></a>
  <a href="https://xdhuxc.github.io/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    由 <a class="hexo-link" href="https://gohugo.io">Hugo</a> 强力驱动
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    主题 - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  <div class="busuanzi-footer">
    <span id="busuanzi_container_site_pv"> 本站总访问量 <span id="busuanzi_value_site_pv"><img src="/img/spinner.svg" alt="spinner.svg"/></span> 次 </span>
      <span class="division">|</span>
    <span id="busuanzi_container_site_uv"> 本站总访客数 <span id="busuanzi_value_site_uv"><img src="/img/spinner.svg" alt="spinner.svg"/></span> 人 </span>
  </div>

  <span class="copyright-year">
    &copy; 
    2017 - 
    2020
    <span class="heart">
      <i class="iconfont icon-heart"></i>
    </span>
    <span class="author">xdhuxc 版权所有</span>
  </span>
</div>
    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js" integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js" integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin="anonymous"></script>
<script type="text/javascript" src="/dist/even.26188efa.min.js"></script>


<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-139962821-1', 'auto');
	ga('set', 'anonymizeIp', true);
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>







</body>
</html>
